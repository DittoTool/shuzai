

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Frames &mdash; Shuzai 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Shuzai 1.0 documentation" href="../index.html"/>
        <link rel="up" title="Data Structures" href="../data.html"/>
        <link rel="next" title="Javadoc" href="../packages.html"/>
        <link rel="prev" title="Time Series Data" href="timeseries.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> Shuzai</a>
        
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Shuzai</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../data.html">Data Structures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="series.html">Data Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeseries.html">Time Series Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Data Frames</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Javadoc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../net/johnewart/shuzai/package-index.html">net.johnewart.shuzai</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Shuzai</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../data.html">Data Structures</a> &raquo;</li>
      
    <li>Data Frames</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/data/dataframe.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="data-frames">
<h1>Data Frames<a class="headerlink" href="#data-frames" title="Permalink to this headline">¶</a></h1>
<p>Data Frames are simply a two-dimensional table of data points that share a common index but different data values. This allows you to consolidate data into similar buckets, which is where the <a class="reference internal" href="../net/johnewart/shuzai/Series.html#net.johnewart.shuzai.Series" title="net.johnewart.shuzai.Series"><tt class="xref java java-type docutils literal"><span class="pre">Series</span></tt></a> interface comes in. Being able to convert data into a homogeneous structure makes many operations, particularly reporting, on your data much easier to do.</p>
<p>For example, if you were recording data points from three different sensors, your data might look like:</p>
<table border="1" class="docutils">
<caption>Recorded data</caption>
<colgroup>
<col width="38%" />
<col width="29%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Time</th>
<th class="head">Sensor</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>10:03</td>
<td>S1</td>
<td>54.223</td>
</tr>
<tr class="row-odd"><td>10:04</td>
<td>S2</td>
<td>8.450</td>
</tr>
<tr class="row-even"><td>10:05</td>
<td>S1</td>
<td>54.678</td>
</tr>
<tr class="row-odd"><td>10:05</td>
<td>S2</td>
<td>10.020</td>
</tr>
<tr class="row-even"><td>10:11</td>
<td>S1</td>
<td>54.100</td>
</tr>
<tr class="row-odd"><td>10:12</td>
<td>S2</td>
<td>9.700</td>
</tr>
<tr class="row-even"><td>10:15</td>
<td>S3</td>
<td>180.000</td>
</tr>
<tr class="row-odd"><td>10:16</td>
<td>S2</td>
<td>8.990</td>
</tr>
<tr class="row-even"><td>10:19</td>
<td>S1</td>
<td>58.234</td>
</tr>
</tbody>
</table>
<p>Here, S3 only reported once, at 10:15 where the others reported much more frequently. We would record this data in three separate <a class="reference internal" href="../net/johnewart/shuzai/TimeSeries.html#net.johnewart.shuzai.TimeSeries" title="net.johnewart.shuzai.TimeSeries"><tt class="xref java java-type docutils literal"><span class="pre">TimeSeries</span></tt></a> objects, one for each sensor, so that the data is kept in-tact for each one. All data points retrieved, so long as they have a unique time-stamp (down to the millisecond) are, are stored in the <a class="reference internal" href="../net/johnewart/shuzai/TimeSeries.html#net.johnewart.shuzai.TimeSeries" title="net.johnewart.shuzai.TimeSeries"><tt class="xref java java-type docutils literal"><span class="pre">TimeSeries</span></tt></a> object with no data loss.</p>
<div class="section" id="building-a-data-frame">
<h2>Building a Data Frame<a class="headerlink" href="#building-a-data-frame" title="Permalink to this headline">¶</a></h2>
<p>DataFrame objects consist data points stored at indexed values; most likely the index will be time data, but can be anything that is sortable so that there is a clear concept of ordering in the DataFrame. For example, if we were to take our three independent TimeSeries objects from earlier and add them into a single DataFrame object, we would have a data frame that resembles the following:</p>
<table border="1" class="docutils" id="data-frame">
<caption>Data put into a DataFrame as-is</caption>
<colgroup>
<col width="28%" />
<col width="24%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Time</th>
<th class="head">S1</th>
<th class="head">S2</th>
<th class="head">S3</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>10:03</td>
<td>54.223</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>10:04</td>
<td>&nbsp;</td>
<td>8.450</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>10:05</td>
<td>54.678</td>
<td>10.020</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>10:11</td>
<td>54.100</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>10:12</td>
<td>&nbsp;</td>
<td>9.700</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>10:15</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>180.000</td>
</tr>
<tr class="row-even"><td>10:16</td>
<td>&nbsp;</td>
<td>8.990</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>10:19</td>
<td>58.234</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Merging data into a <a class="reference internal" href="../net/johnewart/shuzai/DataFrame.html#net.johnewart.shuzai.DataFrame" title="net.johnewart.shuzai.DataFrame"><tt class="xref java java-type docutils literal"><span class="pre">DataFrame</span></tt></a> object <em>does not</em> modify the underlying data in any way.</p>
<p>Let&#8217;s say that we wanted to produce a chart of all our sensor data at a 5-minute average resolution. You would need to write some code to organize the data into proper 5-minute buckets, and then perform some computation on them. This is exactly what the <a class="reference internal" href="../net/johnewart/shuzai/TimeSeries.html#net.johnewart.shuzai.TimeSeries" title="net.johnewart.shuzai.TimeSeries"><tt class="xref java java-type docutils literal"><span class="pre">TimeSeries</span></tt></a> class is designed to do. By using the TimeSeries&#8217; ability to downsample and time-box data, we can create a consistent index for our table of data.</p>
<p>If we were to convert our data instead to 5-minute averages, it would look like this:</p>
<table border="1" class="docutils" id="five-minute-table">
<caption>Data averaged into 5-minute intervals</caption>
<colgroup>
<col width="28%" />
<col width="24%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Time</th>
<th class="head">S1</th>
<th class="head">S2</th>
<th class="head">S3</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>10:00</td>
<td>54.223</td>
<td>8.450</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>10:05</td>
<td>54.678</td>
<td>10.020</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>10:10</td>
<td>54.100</td>
<td>9.700</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>10:15</td>
<td>58.234</td>
<td>8.990</td>
<td>180.000</td>
</tr>
</tbody>
</table>
<p>Because each sensor only reported one data point per 5-minute interval, our data fits without any computation when being compacted into a matrix with a consistent time index.</p>
</div>
<div class="section" id="filling-in-missing-data">
<h2>Filling in missing data<a class="headerlink" href="#filling-in-missing-data" title="Permalink to this headline">¶</a></h2>
<p>Oftentimes, and for a variety of reasons, the data gathered has holes in it. Perhaps a sensor missed recording a data point because it was low on power or busy; data was lost in transmission; or sometimes the granularity of our inputs don&#8217;t line up. In these cases, particularly when wanting to present a consistent view of our data for charts and infographics, it is important to be able to accurately fill in the blanks where it makes sense.</p>
<p>The <a class="reference internal" href="../net/johnewart/shuzai/DataFrame.html#net.johnewart.shuzai.DataFrame" title="net.johnewart.shuzai.DataFrame"><tt class="xref java java-type docutils literal"><span class="pre">DataFrame</span></tt></a> class provides methods for filling in the data holes. Currently it supports only simple backfill methods, where a copy of a data point is migrated forwards or backwards (or both) to fill in the gaps. In the future, there will be an option to use additional models for filling in data such as linear appromiximation.</p>
<p>If we were to take the data in <a class="reference internal" href="#five-minute-table"><em>Data averaged into 5-minute intervals</em></a> and back-fill our data, we would end up with the following data frame:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="24%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Time</th>
<th class="head">S1</th>
<th class="head">S2</th>
<th class="head">S3</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>10:00</td>
<td>54.223</td>
<td>8.450</td>
<td>180.000</td>
</tr>
<tr class="row-odd"><td>10:05</td>
<td>54.678</td>
<td>10.020</td>
<td>180.000</td>
</tr>
<tr class="row-even"><td>10:10</td>
<td>54.100</td>
<td>9.700</td>
<td>180.000</td>
</tr>
<tr class="row-odd"><td>10:15</td>
<td>58.234</td>
<td>8.990</td>
<td>180.000</td>
</tr>
</tbody>
</table>
<p>Here, when we have empty slots, we use the next non-null value to back-fill the missing data. This provides us with a complete data-frame so that a plot of our data makes more sense. Alternatively, we can leverage forward-filling to do the opposite, as needed.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../packages.html" class="btn btn-neutral float-right" title="Javadoc">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="timeseries.html" class="btn btn-neutral" title="Time Series Data"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, John Ewart.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>